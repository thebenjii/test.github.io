<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Night Sky Generator</title>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.js"></script>
   <script>
      let stars = [];
      let planets = [];

      function setup() { 
          createCanvas(windowWidth, windowHeight);
          makeStars(random(100, 501));
          makePlanets(random(1, 9));
          textFont('Arial');
      }

      function draw() {
          background(0); 
          drawStars();
          drawPlanets();
          instructions();
      }

      function makeStars(iter) { 
          stars = []; 
          for (let i = 0; i < iter; i++) {
              let star = {
                  x: random(width),
                  y: random(height),
                  size: random(1, 4),
                  brightness: random(100, 240)
              };
              stars.push(star);
          }
      }

      function drawStars() {
          noStroke();
          for (let star of stars) {
              // Twinkling effect
              let twinkle = sin(frameCount * 0.05 + star.x * 0.01) * 50;
              fill(star.brightness + twinkle);
              ellipse(star.x, star.y, star.size);
          }
      }

      function makePlanets(iter) {
          planets = [];
          for (let i = 0; i < iter; i++) {
              let planet = {
                  x: random(width),
                  y: random(height), 
                  size: random(5, 15),
                  color: color(random(50, 255), random(50, 255), random(50, 255))
              };
              planets.push(planet);
          }
      }

      function drawPlanets() {
          noStroke();
          for (let planet of planets) {
              fill(planet.color);
              ellipse(planet.x, planet.y, planet.size);
          }
      }  

      function mousePressed() {
          let newplanet = {
              x: mouseX, 
              y: mouseY, 
              size: random(5,15), 
              color: color(random(50, 255), random(50, 255), random(50, 255))
          };
          planets.push(newplanet);
      }

      function instructions() {
          fill(255);
          textSize(16);
          textAlign(CENTER, BOTTOM);
          text("Click anywhere to add a new planet", width / 2, height - 30);
      }

      function windowResized() {
          resizeCanvas(windowWidth, windowHeight);
          // Optionally regenerate stars/planets if desired
          // makeStars(random(100, 501));
          // makePlanets(random(1, 9));
      }
   </script>
   <style>
      body {
          margin: 0;
          background-color: #000; 
      }
   </style>
</head>
<body>
</body>
</html>
